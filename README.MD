# Coupon Management System

A simple Node.js + Express backend service for creating and evaluating e-commerce coupons. This project fulfills the **Coupon Management Assignment** requirements from Anshumat Foundation.

---

## ğŸš€ Project Overview
This service allows:
- Creating coupons with rules and eligibility conditions
- Finding the **best applicable coupon** for a user and their cart
- In-memory storage (no database needed)

---

## ğŸ›  Tech Stack
- **Node.js** (v18+ recommended)
- **Express.js**
- **UUID** for unique IDs (if needed)

---

## ğŸ“ Folder Structure
```
coupon-system/
â”œâ”€â”€ server.js
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## âš™ï¸ How to Run the Project

### 1. Clone the Repository
```
git clone <your-repo-url>
cd coupon-system
```

### 2. Install Dependencies
```
npm install
```

### 3. Start the Server
```
npm start
```
Server will start at:
```
http://localhost:3000
```

---

## ğŸ§ª API Documentation

### 1ï¸âƒ£ Create Coupon API
**Endpoint:** `POST /coupons`

**Body Example:**
```json
{
  "code": "WELCOME100",
  "description": "Flat 100 Off",
  "discountType": "FLAT",
  "discountValue": 100,
  "startDate": "2025-01-01",
  "endDate": "2025-12-31",
  "eligibility": {
    "allowedUserTiers": ["NEW", "REGULAR"]
  }
}
```

**Success Response:**
```json
{
  "message": "Coupon created",
  "coupon": { ... }
}
```

---

### 2ï¸âƒ£ Best Coupon API
**Endpoint:** `POST /best-coupon`

**Body Example:**
```json
{
  "user": {
    "userTier": "NEW",
    "country": "IN",
    "lifetimeSpend": 1000,
    "ordersPlaced": 1
  },
  "cart": {
    "items": [
      {
        "productId": "p1",
        "category": "electronics",
        "unitPrice": 500,
        "quantity": 1
      }
    ]
  }
}
```

**Success Response:**
```json
{
  "c": { ...coupon details... },
  "d": 50
}
```
`d` = calculated discount

---

## ğŸ§  Best Coupon Selection Logic
1. Filter coupons by:
   - Valid date range
   - Eligibility rules
2. Calculate discount amount:
   - FLAT â†’ fixed amount
   - PERCENT â†’ percentage of cart value
3. Select best coupon by:
   1. Highest discount
   2. Earliest end date
   3. Alphabetically smaller code

---

## â— Notes for Reviewer
- Fully in-memory implementation (no database)
- Clean and simple API design
- Easy to extend eligibility rules

---

## ğŸ¤– AI Usage
- ChatGPT used to assist with code structure, README formatting, and test cases
- Prompts included guidance for Express setup and eligibility logic design

---

## ğŸ Submission Details
- **Assignment Name:** Coupon Management
- **Tech Stack:** Node.js, Express.js
- **Live Demo:** <add your Render/Railway link here>
- **GitHub Repo:** <your repo URL>

---

## ğŸ‘¨â€ğŸ’» Developer
**Aadi** â€” Software Developer Intern Candidate
